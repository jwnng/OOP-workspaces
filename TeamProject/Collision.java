public class Collision {
    public final static int TILE_SIZE = 32;

    // ğŸ”¢ íƒ€ì¼ ë²ˆí˜¸ ì•½ì†
    public final static int EMPTY = 0;       // ë¹ˆ ê³µê°„
    public final static int WALL = 1;        // ì¼ë°˜ ë²½
    public final static int PAD_GIRL = 2;    // ğŸ‘§ ì†Œë…€ìš© ë¦¬ìŠ¤í° ë°œíŒ
    public final static int PAD_DOG = 3;     // ğŸ¶ ê°•ì•„ì§€ìš© ë¦¬ìŠ¤í° ë°œíŒ
    
    public final static int SWITCH_GIRL = 4;        // ì†Œë…€ ìŠ¤ìœ„ì¹˜ (OFF)
    public final static int SWITCH_DOG = 5;       // ê°•ì•„ì§€ ìŠ¤ìœ„ì¹˜ (OFF)
    public final static int DOOR_GIRL = 6;    // ì†Œë…€ ë¬¸
    public final static int DOOR_DOG = 7;   // ê°•ì•„ì§€ ë¬¸

    public final static int SWITCH_ON_LEFT = 8;    // ìŠ¤ìœ„ì¹˜ ON (ì™¼ìª½)
    public final static int SWITCH_ON_RIGHT = 9;   // ìŠ¤ìœ„ì¹˜ ON (ì˜¤ë¥¸ìª½)
    
    // â­ [ì¶”ê°€] ì‚¬ë¼ì§€ëŠ” ë²½ & ì´ˆë¡ ìŠ¤ìœ„ì¹˜
    public final static int WALL_BREAKABLE = 12; // ìŠ¤ìœ„ì¹˜ ëˆ„ë¥´ë©´ ì‚¬ë¼ì§ˆ ë²½
    public final static int SWITCH_GREEN = 13;   // ì´ˆë¡ ìŠ¤ìœ„ì¹˜ (OFF)
    public final static int SWITCH_GREEN_ON = 14;// ì´ˆë¡ ìŠ¤ìœ„ì¹˜ (ON)

    // ğŸ—ºï¸ ë§µ ë°ì´í„° (ê¸°ë¯¹ ë°°ì¹˜ ìˆ˜ì •)
    public static int[][] tileMap = {
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1}, // íƒˆì¶œêµ¬
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,13,0,0,0,0,1},
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,12,12,1,1},
        // ê°€ì¥ ìœ„ìª½ì¸µ
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1}, 
        {1,0,0,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        // ğŸ‘‡ [ê¸°ë¯¹] 12ë²ˆ ë²½ (ë°•ìŠ¤ ë°›ì¹¨ëŒ€) ë°°ì¹˜
        {1,0,2,2,2,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,3,3,3,0,0,12,12,0,0,1}, 
        {1,1,1,1,1,1,0,0,0,0,1,0,0,0,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1},
        // ğŸ‘‡ [ê¸°ë¯¹] 13ë²ˆ ì´ˆë¡ ìŠ¤ìœ„ì¹˜ ë°°ì¹˜
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13,0,0,1},
        {1,0,0,0,0,0,0,0,0,2,2,2,2,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,1}, 
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1}, 
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1} 
    };

    // ì¶©ëŒ ì²´í¬ (4ê°œ ëª¨ì„œë¦¬)
    public static boolean isColliding(int x, int y, int w, int h) {
        return isColliding(x, y) || isColliding(x + w, y) || isColliding(x, y + h) || isColliding(x + w, y + h);
    }

    // ë‹¨ì¼ ì¢Œí‘œ ì¶©ëŒ ì²´í¬ (ì—¬ê¸°ì„œ 12ë²ˆ ë²½ì„ ë§‰ì•„ì¤˜ì•¼ í•¨!)
    public static boolean isColliding(int x, int y) {
        int tx = x / TILE_SIZE;
        int ty = y / TILE_SIZE;
        if (ty < 0 || ty >= tileMap.length || tx < 0 || tx >= tileMap[0].length) return true;
        
        int tile = tileMap[ty][tx];
        
        // ğŸ§± ë²½(1), ë¬¸(6, 7), ê·¸ë¦¬ê³  'ì‚¬ë¼ì§€ëŠ” ë²½(12)'ì€ í†µê³¼ ë¶ˆê°€!
        return tile == WALL || tile == DOOR_GIRL || tile == DOOR_DOG || tile == WALL_BREAKABLE;
    }
}